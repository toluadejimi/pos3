"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2624],{11549:(t,e,a)=>{a.r(e),a.d(e,{default:()=>n});var r=a(5947),s=a.n(r);const o={metaInfo:{title:"Create Project"},data:function(){return{isLoading:!0,SubmitProcessing:!1,clients:[],companies:[],employees:[],project:{title:"",description:"",client_id:"",company_id:"",assigned_to:[],start_date:(new Date).toISOString().slice(0,10),end_date:"",status:""}}},methods:{Submit_Project:function(){var t=this;this.$refs.ref_create_project.validate().then((function(e){e?t.Create_Project():t.makeToast("danger",t.$t("Please_fill_the_form_correctly"),t.$t("Failed"))}))},makeToast:function(t,e,a){this.$root.$bvToast.toast(e,{title:a,variant:t,solid:!0})},getValidationState:function(t){var e=t.dirty,a=t.validated,r=t.valid;return e||a?void 0===r?null:r:null},Create_Project:function(){var t=this;this.SubmitProcessing=!0;var e=this;s().start(),s().set(.1),axios.post("projects",{title:e.project.title,description:e.project.description,company_id:e.project.company_id,client:e.project.client_id,assigned_to:e.project.assigned_to,start_date:e.project.start_date,end_date:e.project.end_date,status:e.project.status}).then((function(e){s().done(),t.SubmitProcessing=!1,t.$router.push({name:"index_project"}),t.makeToast("success",t.$t("Successfully_Created"),t.$t("Success"))})).catch((function(e){s().done(),t.makeToast("danger",t.$t("InvalidData"),t.$t("Failed")),t.SubmitProcessing=!1}))},Selected_Client:function(t){null===t&&(this.project.client_id="")},Selected_Team:function(t){null===t&&(this.project.assigned_to=[])},Selected_Status:function(t){null===t&&(this.project.status="")},Selected_Company:function(t){null===t&&(this.project.company_id=""),this.employees=[],this.project.assigned_to=[],this.Get_employees_by_company(t)},Get_employees_by_company:function(t){var e=this;axios.get("/Get_employees_by_company?id="+t).then((function(t){var a=t.data;return e.employees=a}))},GetElements:function(){var t=this;axios.get("projects/create").then((function(e){t.clients=e.data.clients,t.companies=e.data.companies,t.isLoading=!1})).catch((function(e){setTimeout((function(){t.isLoading=!1}),500)}))}},created:function(){this.GetElements()}};const n=(0,a(14486).A)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-content"},[e("breadcumb",{attrs:{page:t.$t("Create_Project"),folder:t.$t("Projects")}}),t._v(" "),t.isLoading?e("div",{staticClass:"loading_page spinner spinner-primary mr-3"}):t._e(),t._v(" "),t.isLoading?t._e():e("validation-observer",{ref:"ref_create_project"},[e("b-form",{on:{submit:function(e){return e.preventDefault(),t.Submit_Project.apply(null,arguments)}}},[e("b-row",[e("b-col",{attrs:{lg:"12",md:"12",sm:"12"}},[e("b-card",[e("b-row",[e("b-col",{attrs:{lg:"4",md:"6",sm:"12"}},[e("validation-provider",{attrs:{name:"Title",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(a){return[e("b-form-group",{attrs:{label:t.$t("title")+" *"}},[e("b-form-input",{attrs:{placeholder:t.$t("Enter_Project_Title"),state:t.getValidationState(a),"aria-describedby":"title-feedback",label:"Project Title"},model:{value:t.project.title,callback:function(e){t.$set(t.project,"title",e)},expression:"project.title"}}),t._v(" "),e("b-form-invalid-feedback",{attrs:{id:"title-feedback"}},[t._v(t._s(a.errors[0]))])],1)]}}],null,!1,3561917277)})],1),t._v(" "),e("b-col",{attrs:{lg:"4",md:"6",sm:"12"}},[e("validation-provider",{attrs:{name:"start_date",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(a){return[e("b-form-group",{attrs:{label:t.$t("start_date")+" *"}},[e("b-form-input",{attrs:{state:t.getValidationState(a),"aria-describedby":"start_date-feedback",type:"date"},model:{value:t.project.start_date,callback:function(e){t.$set(t.project,"start_date",e)},expression:"project.start_date"}}),t._v(" "),e("b-form-invalid-feedback",{attrs:{id:"start_date-feedback"}},[t._v(t._s(a.errors[0]))])],1)]}}],null,!1,1212047739)})],1),t._v(" "),e("b-col",{attrs:{lg:"4",md:"6",sm:"12"}},[e("validation-provider",{attrs:{name:"end_date",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(a){return[e("b-form-group",{attrs:{label:t.$t("Finish_Date")+" *"}},[e("b-form-input",{attrs:{state:t.getValidationState(a),"aria-describedby":"end_date-feedback",type:"date"},model:{value:t.project.end_date,callback:function(e){t.$set(t.project,"end_date",e)},expression:"project.end_date"}}),t._v(" "),e("b-form-invalid-feedback",{attrs:{id:"end_date-feedback"}},[t._v(t._s(a.errors[0]))])],1)]}}],null,!1,2953173831)})],1),t._v(" "),e("b-col",{attrs:{lg:"4",md:"6",sm:"12"}},[e("validation-provider",{attrs:{name:"Client"},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.valid,s=a.errors;return e("b-form-group",{attrs:{label:t.$t("Customer")+" *"}},[e("v-select",{class:{"is-invalid":!!s.length},attrs:{state:!s[0]&&(!!r||null),reduce:function(t){return t.value},placeholder:t.$t("Choose_Customer"),options:t.clients.map((function(t){return{label:t.name,value:t.id}}))},on:{input:t.Selected_Client},model:{value:t.project.client_id,callback:function(e){t.$set(t.project,"client_id",e)},expression:"project.client_id"}}),t._v(" "),e("b-form-invalid-feedback",[t._v(t._s(s[0]))])],1)}}],null,!1,4183804247)})],1),t._v(" "),e("b-col",{attrs:{lg:"4",md:"6",sm:"12"}},[e("validation-provider",{attrs:{name:"Company"},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.valid,s=a.errors;return e("b-form-group",{attrs:{label:t.$t("Company")+" *"}},[e("v-select",{class:{"is-invalid":!!s.length},attrs:{state:!s[0]&&(!!r||null),reduce:function(t){return t.value},placeholder:t.$t("Choose_Company"),options:t.companies.map((function(t){return{label:t.name,value:t.id}}))},on:{input:t.Selected_Company},model:{value:t.project.company_id,callback:function(e){t.$set(t.project,"company_id",e)},expression:"project.company_id"}}),t._v(" "),e("b-form-invalid-feedback",[t._v(t._s(s[0]))])],1)}}],null,!1,4228484727)})],1),t._v(" "),e("b-col",{attrs:{lg:"4",md:"6",sm:"12"}},[e("validation-provider",{attrs:{name:"Assigned_Employees"},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.valid,s=a.errors;return e("b-form-group",{attrs:{label:t.$t("Assigned_Employees")}},[e("v-select",{class:{"is-invalid":!!s.length},attrs:{state:!s[0]&&(!!r||null),reduce:function(t){return t.value},placeholder:t.$t("Choose_Team"),options:t.employees.map((function(t){return{label:t.username,value:t.id}}))},on:{input:t.Selected_Team},model:{value:t.project.assigned_to,callback:function(e){t.$set(t.project,"assigned_to",e)},expression:"project.assigned_to"}}),t._v(" "),e("b-form-invalid-feedback",[t._v(t._s(s[0]))])],1)}}],null,!1,3496289940)})],1),t._v(" "),e("b-col",{attrs:{lg:"4",md:"6",sm:"12"}},[e("validation-provider",{attrs:{name:"Status",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.valid,s=a.errors;return e("b-form-group",{attrs:{label:t.$t("Status")+" *"}},[e("v-select",{class:{"is-invalid":!!s.length},attrs:{state:!s[0]&&(!!r||null),reduce:function(t){return t.value},placeholder:t.$t("Choose_Status"),options:[{label:"Not Started",value:"not_started"},{label:"In Progress",value:"progress"},{label:"Cancelled",value:"cancelled"},{label:"On Hold",value:"hold"},{label:"Completed",value:"completed"}]},on:{input:t.Selected_Status},model:{value:t.project.status,callback:function(e){t.$set(t.project,"status",e)},expression:"project.status"}}),t._v(" "),e("b-form-invalid-feedback",[t._v(t._s(s[0]))])],1)}}],null,!1,2872707373)})],1),t._v(" "),e("b-col",{attrs:{lg:"8",md:"8",sm:"12"}},[e("validation-provider",{attrs:{name:"Description"},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.valid,s=a.errors;return e("b-form-group",{attrs:{label:t.$t("Details")}},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.project.description,expression:"project.description"}],staticClass:"form-control",class:{"is-invalid":!!s.length},attrs:{state:!s[0]&&(!!r||null),rows:"4",placeholder:t.$t("Afewwords")},domProps:{value:t.project.description},on:{input:function(e){e.target.composing||t.$set(t.project,"description",e.target.value)}}}),t._v(" "),e("b-form-invalid-feedback",[t._v(t._s(s[0]))])],1)}}],null,!1,1486681098)})],1),t._v(" "),e("b-col",{attrs:{md:"12"}},[e("b-form-group",[e("b-button",{attrs:{variant:"primary",type:"submit",disabled:t.SubmitProcessing}},[e("i",{staticClass:"i-Yes me-2 font-weight-bold"}),t._v(" "+t._s(t.$t("submit")))]),t._v(" "),t.SubmitProcessing?t._m(0):t._e()],1)],1)],1)],1)],1)],1)],1)],1)],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"typo__p"},[t("div",{staticClass:"spinner sm spinner-primary mt-3"})])}],!1,null,null,null).exports}}]);